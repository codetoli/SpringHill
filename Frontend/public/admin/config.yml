local_backend: false

backend:
  name: github
  repo: codetoli/SpringHill
  branch: main 

media_folder: "public/uploads"
public_folder: "/uploads"

collections:
  - name: "events"
    label: "Events (Gallery)"
    folder: "src/content/events"
    create: true
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    fields:
      - label: "Event Images"
        name: "images"
        widget: "list"
        summary: "{{fields.image}}"
        fields:
          - label: "Image"
            name: "image"
            widget: "image"

  - name: "notices"
    label: "Notices"
    folder: "src/content/notices"
    create: true
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    fields:
       - label: "Title"
         name: "title"
         widget: "string"

       - label: "Publish Date"
         name: "date"
         widget: "datetime"
         required: false

       - label: "Important"
         name: "important"
         widget: "boolean"
         default: false
       
       - label: "Notice File(Pdf)"
         name: "file"
         widget: "file"
         required: false

  # ðŸ”’ Admin-only collection
  - name: "admin-settings"
    label: "Admin Settings (Hidden from normal editors)"
    folder: "src/content/admin"
    create: true
    slug: "{{slug}}"
    editor:
      preview: false   # hides preview for normal users
    fields:
      - label: "Site Config"
        name: "site_config"
        widget: "object"
        fields:
          - { label: "Show Banner", name: "banner", widget: "boolean", default: true }
          - { label: "Homepage Notice", name: "homepage_notice", widget: "string" }
