# Decap CMS â€“ Production Config

local_backend: false

backend:
  name: git-gateway
  branch: main

# Media handling
media_folder: "Frontend/public/uploads"
public_folder: "/uploads"

# Enable editorial workflow (optional but recommended)
publish_mode: editorial_workflow

collections:
  # =========================
  # EVENTS (Gallery)
  # =========================
  - name: "events"
    label: "Events (Gallery)"
    folder: "src/content/events"
    create: true
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    fields:
      - label: "Event Images"
        name: "images"
        widget: "list"
        summary: "{{fields.image}}"
        fields:
          - label: "Image"
            name: "image"
            widget: "image"

  # =========================
  # NOTICES
  # =========================
  - name: "notices"
    label: "Notices"
    folder: "Frontend/src/content/notices"
    create: true
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    fields:
      - label: "Title"
        name: "title"
        widget: "string"

      - label: "Publish Date"
        name: "date"
        widget: "datetime"
        required: false

      - label: "Important"
        name: "important"
        widget: "boolean"
        default: false

      - label: "Notice File (PDF)"
        name: "file"
        widget: "file"
        required: false

  # =========================
  # ADMIN SETTINGS (Internal)
  # =========================
  - name: "admin_settings"
    label: "Admin Settings"
    folder: "Frontend/src/content/admin"
    create: true
    slug: "settings"
    editor:
      preview: false
    fields:
      - label: "Site Configuration"
        name: "site_config"
        widget: "object"
        fields:
          - label: "Show Homepage Banner"
            name: "show_banner"
            widget: "boolean"
            default: true

          - label: "Homepage Notice Text"
            name: "homepage_notice"
            widget: "string"
            required: false
